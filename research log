RESEARCH LOG

Lachlan Stoney
Work for Russell Drysdale






Obtained daily and monthly rain data for mundrabilla (1901-2016) from:
http://www.bom.gov.au/jsp/ncc/cdio/weatherData/av?p_nccObsCode=139&p_display_type=dataFile&p_stn_num=011008
stored in rus/nullabor/mundrabilla/
3 files: daily, monthly1, monthly2   (not actually named like that).
data format = .csv
monthly 2 has a slightly different format (12 months per row, annual rainfall included).

NCEP data spans Jan 1979 - July 2015
Mundrabilla rainfall data has a GAP from 1971 to 1984, and some missing data in 2012 (January and 2012 total rainfall amount).
Overlap of two datasets: Jan1984-July2015.

Matlab command csvread() only works on files with purely numerical data, but the BOM data has some text.

Wrote AWK script rain_filter.sh to send relevant .csv data (the important numerical stuff from 1984-2015) to new .dat files
Usage: "bash rain_filter.sh"   (if script and .csv files are in the correct directories)
Wrote a line in this script to add an entry for Jan 2012 (with missing data). Otherwise there is a gap.
Configure this script to filter for particular months, etc.
Plan to use this script to select only summer rainfall days with  > 5mm.


Filtered data stored at:

rus/nullabor/mundrabilla/filtered_data/
i.e. one file for January rainfall, Feb rainfall, yearly rainfall, yearly rainfall etc.


Wrote matlab script read_rain_data.m to read the new .dat files

NCEP data downloaded from http://www.esrl.noaa.gov/psd/data/gridded/data.ncep.reanalysis2.html
stored at: rus/ncep
variables: MLSP,skin temp.

Cut data record down to Jan 1984 - July 2015 period with nco commands. e.g:

ncks -F -d time,61,439  mlsp.mon.mean.nc mlsp_Jan1984_July2015.nc

created monthly,yearly,seasonal data with the script reformat_field.sh
This calls other scripts: month.sh, year.sh,summer.sh,winter.sh


Wrote matlab function spatial_correlation.m 
Accepts one rain fall and one renanalysis file. Both need to have same number of time steps.
Usage: spatial_correlation(rainfile,ncepfile,ncepvariable)

Wrote the matlab function correlation_test.m to calculate the correlation field for two renanalysis files. This can be tested against

cdo -b 32 timecor file1 file2

Tested both methods with the files SST.nc and pres.sfc.mon.mean.nc and they gave the same results.



